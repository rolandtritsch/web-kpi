@(kpi: KPI, kpiForm: Form[String])

@import helper._

@main(Html("KPI Detail")) {

  <h2>@kpi.header.name</h2>

  <script>
    $(document).ready(function() {
      var chart = new Highcharts.Chart({
        chart: {
          renderTo: 'chart-container',
          type: 'line'
        },
        title: {
          text: 'History'
        },
        xAxis: {
          categories: [@kpi.hCxAxis.mkString(",")]
        },
        yAxis: {
          title: {
            text: 'Value'
          }
        },
        series: [{
          name: 'Value',
          data: [@kpi.hCyValues.mkString(",")]
        }]
      });
    });
  </script>

  <div class="container">
    <table class="table table-striped table-hover">
      <tr>
        <td>@kpi.header.id</td>
        <td>Unknown</td>
        <td>@kpi.header.name</td>
      </tr>
      <tr>
        <td>@kpi.header.owner</td>
        <td>@kpi.header.target</td>
        <td>@kpi.header.deadline</td>
      </tr>
    </table>
    <hr>
    <div id="chart-container" style="width:100%; height:400px;"></div>
    <hr>
    <table class="table table-striped table-hover">
      <tr>
        <th>TimeStamp</th>
        <th>Values</th>
      </tr>
      @kpi.values.map { v =>
      <tr>
        <td>@v.timestamp</td>
        <td>@v.value</td>
      </tr>
      }
    </table>
    <hr>
  </div>
}
